
{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "_macros.html" as macros %}

{% block title %}Flasky - index {% endblock %}

{% block page_content %}
<div class="page-header">
    <h1>Hello, {% if current_user.is_authenticated %}{{ current_user.username }}{% else %}Stranger{% endif %}!</h1>
</div>

{% if current_user.is_authenticated %}
<div>
    {{ wtf.quick_form(form)　}}
</div>
{% else %}
<div>没登录不能写文章哦~</div>
{% endif %}

{% include '_posts.html' %}<!--渲染Posts-->

{% if pagination %}        <!-- 渲染分页导航栏 -->
<div class = "pagination">
    {{ macros.pagination_widget(pagination,'main.index') }}
</div>
{% endif %}

{% endblock %}

{% block scripts %}
{{ super() }}
<!--调用include_pagedown()方法，自动在PageDownFile渲染区域的下方显示预览的博客文章内容。-->
{{ pagedown.include_pagedown() }}
{% endblock %}





